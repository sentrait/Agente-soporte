"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[532],{151:(t,e,s)=>{s.d(e,{I:()=>nt});var i=s(9379);var r,n,o,h,a,l,u,c,d,p,A,f,v,b,y,g,R=s(9790),w=s(5149),m=s(6562),O=s(8458),C=s(4558),k=s(3491),E=s(1454),M=s(9210),S=s(329),Q=s(9567),U=s(9723),W=(r=new WeakMap,n=new WeakMap,o=new WeakMap,h=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,A=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,g=new WeakSet,class extends S.Q{constructor(t,e){super(),(0,R.A)(this,g),(0,w.A)(this,r,void 0),(0,w.A)(this,n,void 0),(0,w.A)(this,o,void 0),(0,w.A)(this,h,void 0),(0,w.A)(this,a,void 0),(0,w.A)(this,l,void 0),(0,w.A)(this,u,void 0),(0,w.A)(this,c,void 0),(0,w.A)(this,d,void 0),(0,w.A)(this,p,void 0),(0,w.A)(this,A,void 0),(0,w.A)(this,f,void 0),(0,w.A)(this,v,void 0),(0,w.A)(this,b,void 0),(0,w.A)(this,y,new Set),this.options=e,(0,C.A)(r,this,t),(0,C.A)(c,this,null),(0,C.A)(u,this,(0,Q.T)()),this.options.experimental_prefetchInRender||(0,O.A)(u,this).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,O.A)(n,this).addObserver(this),L((0,O.A)(n,this),this.options)?(0,m.A)(g,this,x).call(this):this.updateResult(),(0,m.A)(g,this,F).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H((0,O.A)(n,this),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H((0,O.A)(n,this),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,m.A)(g,this,q).call(this),(0,m.A)(g,this,D).call(this),(0,O.A)(n,this).removeObserver(this)}setOptions(t){const e=this.options,s=(0,O.A)(n,this);if(this.options=(0,O.A)(r,this).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof(0,U.Eh)(this.options.enabled,(0,O.A)(n,this)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,m.A)(g,this,P).call(this),(0,O.A)(n,this).setOptions(this.options),e._defaulted&&!(0,U.f8)(this.options,e)&&(0,O.A)(r,this).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,O.A)(n,this),observer:this});const i=this.hasListeners();i&&B((0,O.A)(n,this),s,this.options,e)&&(0,m.A)(g,this,x).call(this),this.updateResult(),!i||(0,O.A)(n,this)===s&&(0,U.Eh)(this.options.enabled,(0,O.A)(n,this))===(0,U.Eh)(e.enabled,(0,O.A)(n,this))&&(0,U.d2)(this.options.staleTime,(0,O.A)(n,this))===(0,U.d2)(e.staleTime,(0,O.A)(n,this))||(0,m.A)(g,this,T).call(this);const o=(0,m.A)(g,this,I).call(this);!i||(0,O.A)(n,this)===s&&(0,U.Eh)(this.options.enabled,(0,O.A)(n,this))===(0,U.Eh)(e.enabled,(0,O.A)(n,this))&&o===(0,O.A)(b,this)||(0,m.A)(g,this,_).call(this,o)}getOptimisticResult(t){const e=(0,O.A)(r,this).getQueryCache().build((0,O.A)(r,this),t),s=this.createResult(e,t);return function(t,e){if(!(0,U.f8)(t.getCurrentResult(),e))return!0;return!1}(this,s)&&((0,C.A)(h,this,s),(0,C.A)(l,this,this.options),(0,C.A)(a,this,(0,O.A)(n,this).state)),s}getCurrentResult(){return(0,O.A)(h,this)}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),null===e||void 0===e||e(s),Reflect.get(t,s))})}trackProp(t){(0,O.A)(y,this).add(t)}getCurrentQuery(){return(0,O.A)(n,this)}refetch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},(function(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t));return this.fetch((0,i.A)({},e))}fetchOptimistic(t){const e=(0,O.A)(r,this).defaultQueryOptions(t),s=(0,O.A)(r,this).getQueryCache().build((0,O.A)(r,this),e);return s.fetch().then((()=>this.createResult(s,e)))}fetch(t){var e;return(0,m.A)(g,this,x).call(this,(0,i.A)((0,i.A)({},t),{},{cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e})).then((()=>(this.updateResult(),(0,O.A)(h,this))))}createResult(t,e){const s=(0,O.A)(n,this),r=this.options,f=(0,O.A)(h,this),v=(0,O.A)(a,this),b=(0,O.A)(l,this),y=t!==s?t.state:(0,O.A)(o,this),{state:g}=t;let R,w=(0,i.A)({},g),m=!1;if(e._optimisticResults){const n=this.hasListeners(),o=!n&&L(t,e),h=n&&B(t,s,e,r);(o||h)&&(w=(0,i.A)((0,i.A)({},w),(0,M.k)(g.data,t.options))),"isRestoring"===e._optimisticResults&&(w.fetchStatus="idle")}let{error:k,errorUpdatedAt:E,status:S}=w;R=w.data;let W=!1;if(void 0!==e.placeholderData&&void 0===R&&"pending"===S){let t;var x;if(null!==f&&void 0!==f&&f.isPlaceholderData&&e.placeholderData===(null===b||void 0===b?void 0:b.placeholderData))t=f.data,W=!0;else t="function"===typeof e.placeholderData?e.placeholderData(null===(x=(0,O.A)(A,this))||void 0===x?void 0:x.state.data,(0,O.A)(A,this)):e.placeholderData;void 0!==t&&(S="success",R=(0,U.pl)(null===f||void 0===f?void 0:f.data,t,e),m=!0)}if(e.select&&void 0!==R&&!W)if(f&&R===(null===v||void 0===v?void 0:v.data)&&e.select===(0,O.A)(d,this))R=(0,O.A)(p,this);else try{(0,C.A)(d,this,e.select),R=e.select(R),R=(0,U.pl)(null===f||void 0===f?void 0:f.data,R,e),(0,C.A)(p,this,R),(0,C.A)(c,this,null)}catch(P){(0,C.A)(c,this,P)}(0,O.A)(c,this)&&(k=(0,O.A)(c,this),R=(0,O.A)(p,this),E=Date.now(),S="error");const T="fetching"===w.fetchStatus,I="pending"===S,_="error"===S,F=I&&T,q=void 0!==R,D={status:S,fetchStatus:w.fetchStatus,isPending:I,isSuccess:"success"===S,isError:_,isInitialLoading:F,isLoading:F,data:R,dataUpdatedAt:w.dataUpdatedAt,error:k,errorUpdatedAt:E,failureCount:w.fetchFailureCount,failureReason:w.fetchFailureReason,errorUpdateCount:w.errorUpdateCount,isFetched:w.dataUpdateCount>0||w.errorUpdateCount>0,isFetchedAfterMount:w.dataUpdateCount>y.dataUpdateCount||w.errorUpdateCount>y.errorUpdateCount,isFetching:T,isRefetching:T&&!I,isLoadingError:_&&!q,isPaused:"paused"===w.fetchStatus,isPlaceholderData:m,isRefetchError:_&&q,isStale:G(t,e),refetch:this.refetch,promise:(0,O.A)(u,this)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===D.status?t.reject(D.error):void 0!==D.data&&t.resolve(D.data)},i=()=>{const t=(0,C.A)(u,this,D.promise=(0,Q.T)());e(t)},r=(0,O.A)(u,this);switch(r.status){case"pending":t.queryHash===s.queryHash&&e(r);break;case"fulfilled":"error"!==D.status&&D.data===r.value||i();break;case"rejected":"error"===D.status&&D.error===r.reason||i()}}return D}updateResult(){const t=(0,O.A)(h,this),e=this.createResult((0,O.A)(n,this),this.options);if((0,C.A)(a,this,(0,O.A)(n,this).state),(0,C.A)(l,this,this.options),void 0!==(0,O.A)(a,this).data&&(0,C.A)(A,this,(0,O.A)(n,this)),(0,U.f8)(e,t))return;(0,C.A)(h,this,e);(0,m.A)(g,this,j).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"===typeof e?e():e;if("all"===s||!s&&!(0,O.A)(y,this).size)return!0;const i=new Set(null!==s&&void 0!==s?s:(0,O.A)(y,this));return this.options.throwOnError&&i.add("error"),Object.keys((0,O.A)(h,this)).some((e=>{const s=e;return(0,O.A)(h,this)[s]!==t[s]&&i.has(s)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,m.A)(g,this,F).call(this)}});function x(t){(0,m.A)(g,this,P).call(this);let e=(0,O.A)(n,this).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(U.lQ)),e}function T(){(0,m.A)(g,this,q).call(this);const t=(0,U.d2)(this.options.staleTime,(0,O.A)(n,this));if(U.S$||(0,O.A)(h,this).isStale||!(0,U.gn)(t))return;const e=(0,U.j3)((0,O.A)(h,this).dataUpdatedAt,t)+1;(0,C.A)(f,this,setTimeout((()=>{(0,O.A)(h,this).isStale||this.updateResult()}),e))}function I(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,O.A)(n,this)):this.options.refetchInterval)&&void 0!==t&&t}function _(t){(0,m.A)(g,this,D).call(this),(0,C.A)(b,this,t),!U.S$&&!1!==(0,U.Eh)(this.options.enabled,(0,O.A)(n,this))&&(0,U.gn)((0,O.A)(b,this))&&0!==(0,O.A)(b,this)&&(0,C.A)(v,this,setInterval((()=>{(this.options.refetchIntervalInBackground||k.m.isFocused())&&(0,m.A)(g,this,x).call(this)}),(0,O.A)(b,this)))}function F(){(0,m.A)(g,this,T).call(this),(0,m.A)(g,this,_).call(this,(0,m.A)(g,this,I).call(this))}function q(){(0,O.A)(f,this)&&(clearTimeout((0,O.A)(f,this)),(0,C.A)(f,this,void 0))}function D(){(0,O.A)(v,this)&&(clearInterval((0,O.A)(v,this)),(0,C.A)(v,this,void 0))}function P(){const t=(0,O.A)(r,this).getQueryCache().build((0,O.A)(r,this),this.options);if(t===(0,O.A)(n,this))return;const e=(0,O.A)(n,this);(0,C.A)(n,this,t),(0,C.A)(o,this,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}function j(t){E.jG.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t((0,O.A)(h,this))})),(0,O.A)(r,this).getQueryCache().notify({query:(0,O.A)(n,this),type:"observerResultsUpdated"})}))}function L(t,e){return function(t,e){return!1!==(0,U.Eh)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&H(t,e,e.refetchOnMount)}function H(t,e,s){if(!1!==(0,U.Eh)(e.enabled,t)&&"static"!==(0,U.d2)(e.staleTime,t)){const i="function"===typeof s?s(t):s;return"always"===i||!1!==i&&G(t,e)}return!1}function B(t,e,s,i){return(t!==e||!1===(0,U.Eh)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&G(t,s)}function G(t,e){return!1!==(0,U.Eh)(e.enabled,t)&&t.isStaleByTime((0,U.d2)(e.staleTime,t))}var $=s(5043),z=s(3248);s(579);function J(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var K=$.createContext(J()),N=()=>$.useContext(K),V=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},X=t=>{$.useEffect((()=>{t.clearReset()}),[t])},Y=t=>{let{result:e,errorResetBoundary:s,throwOnError:i,query:r,suspense:n}=t;return e.isError&&!s.isReset()&&!e.isFetching&&r&&(n&&void 0===e.data||(0,U.GU)(i,[e.error,r]))},Z=$.createContext(!1),tt=()=>$.useContext(Z),et=(Z.Provider,t=>{if(t.suspense){const e=t=>"static"===t?t:Math.max(null!==t&&void 0!==t?t:1e3,1e3),s=t.staleTime;t.staleTime="function"===typeof s?function(){return e(s(...arguments))}:e(s),"number"===typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3))}}),st=(t,e)=>t.isLoading&&t.isFetching&&!e,it=(t,e)=>(null===t||void 0===t?void 0:t.suspense)&&e.isPending,rt=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function nt(t,e){return function(t,e,s){var i,r,n,o;const h=tt(),a=N(),l=(0,z.jE)(s),u=l.defaultQueryOptions(t);null===(i=l.getDefaultOptions().queries)||void 0===i||null===(r=i._experimental_beforeQuery)||void 0===r||r.call(i,u),u._optimisticResults=h?"isRestoring":"optimistic",et(u),V(u,a),X(a);const c=!l.getQueryCache().get(u.queryHash),[d]=$.useState((()=>new e(l,u))),p=d.getOptimisticResult(u),A=!h&&!1!==t.subscribed;if($.useSyncExternalStore($.useCallback((t=>{const e=A?d.subscribe(E.jG.batchCalls(t)):U.lQ;return d.updateResult(),e}),[d,A]),(()=>d.getCurrentResult()),(()=>d.getCurrentResult())),$.useEffect((()=>{d.setOptions(u)}),[u,d]),it(u,p))throw rt(u,d,a);if(Y({result:p,errorResetBoundary:a,throwOnError:u.throwOnError,query:l.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw p.error;if(null===(n=l.getDefaultOptions().queries)||void 0===n||null===(o=n._experimental_afterQuery)||void 0===o||o.call(n,u,p),u.experimental_prefetchInRender&&!U.S$&&st(p,h)){var f;const t=c?rt(u,d,a):null===(f=l.getQueryCache().get(u.queryHash))||void 0===f?void 0:f.promise;null===t||void 0===t||t.catch(U.lQ).finally((()=>{d.updateResult()}))}return u.notifyOnChangeProps?p:d.trackResult(p)}(t,W,e)}}}]);
//# sourceMappingURL=532.c602735b.chunk.js.map